{% extends 'base.html' %}

{% block title %}Dance Studio - Crie seus mapas{% endblock %}

{% block content %}
<!-- Dashboard-style Header -->
<header class="relative z-30 mb-8 pt-8 pb-4" x-data="{ showLogin: false, clicks: 0 }">
  
  <div class="container mx-auto px-4">
    <div class="flex flex-col items-center md:flex-row md:items-center justify-between gap-6">
      <!-- Brand Identity -->
      <div class="flex items-center gap-4 select-none" @click="clicks++; if(clicks === 3) showLogin = true">
        <div class="text-center md:text-left">
          <h1 class="font-display text-2xl font-bold text-primary leading-tight">Dance Studio</h1>
          <p class="text-secondary text-sm font-medium">Map Creator</p>
        </div>
      </div>

      <!-- Actions -->
      {% if not user.is_authenticated %}
      <nav x-show="showLogin" 
           x-cloak 
           x-transition:enter="transition ease-out duration-300"
           x-transition:enter-start="opacity-0 translate-y-2"
           x-transition:enter-end="opacity-100 translate-y-0"
           class="flex items-center gap-4 bg-surface/50 backdrop-blur-sm p-2 pr-4 pl-4 rounded-full border border-border shadow-sm md:self-auto">
        <a href="{% url 'account_login' %}" 
           class="text-xs font-medium text-secondary hover:text-primary hover:scale-105 active:scale-95 transition-all duration-200 ease-out-back inline-block">
          Entrar
        </a>
      </nav>
      {% else %}
      <nav class="flex items-center gap-4 bg-surface/50 backdrop-blur-sm p-2 pr-4 rounded-full border border-border shadow-sm md:self-auto">
        <div class="flex items-center gap-3">
            <div class="w-8 h-8 rounded-full bg-gradient-to-br from-accent-light to-accent-ice-light flex items-center justify-center text-xs font-bold text-accent-ice-dark shadow-sm ring-2 ring-background">
              {{ request.user.username|slice:":1"|upper }}
            </div>
            <span class="text-sm font-medium text-primary">{{ request.user.username }}</span>
        </div>
        <div class="h-4 w-px bg-border"></div>
        <a href="{% url 'admin' %}" class="text-xs font-medium text-secondary hover:text-primary hover:scale-105 active:scale-95 transition-all duration-200 ease-out-back inline-block">Dashboard</a>
        <div class="h-4 w-px bg-border"></div>
        <button type="button" 
                hx-get="{% url 'logout_confirm' %}"
                hx-target="#modal-content"
                hx-swap="innerHTML"
                class="text-xs font-medium text-red-500 hover:text-red-600 hover:scale-105 active:scale-95 transition-all duration-200 ease-out-back inline-block">
          Sair
        </button>
      </nav>
      {% endif %}
    </div>
  </div>
</header>

<main class="flex-grow">
  <section class="py-24 md:py-32 container mx-auto px-4 text-center">
    <h1 class="text-5xl md:text-7xl font-bold tracking-tighter mb-6 bg-gradient-to-b from-primary to-secondary bg-clip-text text-transparent">
      Dance Studio
    </h1>
    <p class="text-xl text-secondary max-w-2xl mx-auto mb-12">
      A ferramenta online definitiva para criação de mapas de Just Dance. Entre em contato para saber mais.
    </p>
    
    <div class="max-w-md mx-auto card text-left">
      <form method="post" class="space-y-6">
        {% csrf_token %}
        
        <div class="space-y-2">
          <label for="id_name" class="block text-sm font-medium text-secondary">Nome</label>
          {{ form.name }}
        </div>
        
        <div class="space-y-2">
          <label for="id_email" class="block text-sm font-medium text-secondary">Email</label>
          {{ form.email }}
        </div>
        
        <div class="space-y-2">
          <label for="id_message" class="block text-sm font-medium text-secondary">Mensagem</label>
          {{ form.message }}
        </div>
        
        <button type="submit" class="btn btn-primary w-full">
          Enviar Mensagem
        </button>
      </form>
    </div>
  </section>
</main>

<footer class="border-t border-border py-8 text-center text-sm text-secondary">
  <div class="container mx-auto px-4">
    <p>&copy; {% now "Y" %} Dance Studio. Todos os direitos reservados.</p>
  </div>
</footer>

<script>
  // Auto-apply Tailwind classes to form fields
  document.addEventListener('DOMContentLoaded', function() {
    const inputs = document.querySelectorAll('input[type="text"], input[type="email"]');
    const textareas = document.querySelectorAll('textarea');
    
    inputs.forEach(input => input.classList.add('input'));
    textareas.forEach(textarea => {
      textarea.classList.add('input', 'min-h-[120px]');
    });
  });
</script>
{% endblock %}
