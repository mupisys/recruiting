<div class="modal-header flex justify-between items-center mb-6">
  <h2 class="text-xl font-bold text-primary">Editar Mensagem #{{ message_obj.id }}</h2>
  <button class="text-secondary hover:text-primary transition-colors" @click="$dispatch('modal-close')">
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg>
  </button>
</div>

<form hx-post="{% url 'message_edit' message_obj.pk %}" 
      hx-target="#modal-content"
      hx-swap="innerHTML"
      class="space-y-4" data-toast-validate>
  {% csrf_token %}
  
  <div class="space-y-2">
    <label for="id_name" class="block text-sm font-medium text-secondary">Nome</label>
    {{ form.name }}
  </div>

  <div class="space-y-2">
    <label for="id_email" class="block text-sm font-medium text-secondary">Email</label>
    {{ form.email }}
  </div>

  <div class="space-y-2">
    <label for="id_message" class="block text-sm font-medium text-secondary">Mensagem</label>
    {{ form.message }}
  </div>

  <div class="flex justify-end gap-3 pt-4 border-t border-border mt-6">
    <button type="button" class="btn btn-secondary" @click="$dispatch('modal-close')">Cancelar</button>
    <button type="submit" class="btn btn-primary">Salvar Alterações</button>
  </div>
</form>

<script>
  // Apply Tailwind classes to inputs in the modal
  (function() {
    const modalContent = document.getElementById('modal-content');
    if (modalContent) {
      const inputs = modalContent.querySelectorAll('input[type="text"], input[type="email"]');
      const textareas = modalContent.querySelectorAll('textarea');
      
      inputs.forEach(input => input.classList.add('input'));
      textareas.forEach(textarea => {
        textarea.classList.add('input', 'min-h-[120px]');
      });
    }
  })();
</script>
