{% extends 'base.html' %}

{% block title %}Entrar - Mupi Recruiting{% endblock %}

{% block content %}
<main class="flex-grow relative overflow-hidden text-primary bg-background flex flex-col min-h-[100svh]">
  <div class="absolute inset-0 pointer-events-none">
    <div class="absolute inset-0 bg-[radial-gradient(circle_at_50%_-10%,rgb(var(--color-accent-ice)_/_0.14),transparent_60%)]"></div>
    <div class="absolute inset-0 bg-[radial-gradient(circle_at_10%_85%,rgb(var(--color-accent)_/_0.10),transparent_60%)]"></div>
    <div class="absolute inset-0 opacity-[0.62] bg-[linear-gradient(to_right,rgb(var(--color-border)_/_0.55)_1px,transparent_1px),linear-gradient(to_bottom,rgb(var(--color-border)_/_0.55)_1px,transparent_1px)] bg-[size:46px_46px]"></div>
  </div>

  <header class="relative z-30 pt-8 pb-4">
    <div class="container mx-auto px-4">
      <div class="flex flex-col items-center md:flex-row md:items-center justify-between gap-6 reveal reveal-up" data-reveal-delay="0">
        <a href="{% url 'landpage' %}" class="flex items-center gap-4">
          <div class="text-center md:text-left">
            <h1 class="font-display text-2xl font-bold text-primary leading-tight">Dance Studio</h1>
            <p class="text-secondary text-sm font-medium">Dashboard Administrativo</p>
          </div>
        </a>

        <div class="flex items-center bg-surface/50 backdrop-blur-sm p-2 pl-4 pr-4 rounded-full border border-border shadow-sm">
          <a href="{% url 'landpage' %}" class="text-xs font-medium text-secondary hover:text-primary hover:scale-105 active:scale-95 transition-all duration-200 ease-out-back inline-block">Voltar a Landing Page</a>
        </div>
      </div>
    </div>
  </header>

  <section class="relative z-10 flex-1 flex items-center py-8 sm:py-10">
    <div class="container mx-auto px-4 sm:px-6 lg:px-8">
      <div class="w-full max-w-4xl mx-auto">
        <div class="card !p-0 overflow-hidden reveal reveal-up" data-reveal-delay="120">
          <div class="grid grid-cols-1 lg:grid-cols-5">
            <div class="hidden lg:block lg:col-span-2 px-8 sm:px-10 py-10 bg-surface-contrast border-b lg:border-b-0 lg:border-r border-border relative overflow-hidden">
              <div class="absolute inset-0 pointer-events-none">
                <div class="absolute inset-0 bg-[radial-gradient(circle_at_25%_30%,rgb(var(--color-accent)_/_0.18),transparent_60%)]"></div>
                <div class="absolute inset-0 bg-[radial-gradient(circle_at_70%_80%,rgb(var(--color-accent-ice)_/_0.14),transparent_60%)]"></div>
                <div class="absolute inset-0 opacity-[0.35] bg-[linear-gradient(135deg,transparent_0,transparent_42%,rgb(var(--color-border)_/_0.8)_42%,rgb(var(--color-border)_/_0.8)_44%,transparent_44%,transparent_100%)]"></div>
              </div>

              <div class="relative">
                <div class="badge mb-6">
                  <span class="badge-dot badge-dot--accent animate-pulse"></span>
                  Login
                </div>

                <h1 class="font-display text-3xl sm:text-4xl font-bold tracking-tighter leading-[0.95]">
                  <span class="block text-primary">Área</span>
                  <span class="block text-accent-ice-dark">admin</span>
                </h1>

                <p class="mt-4 text-sm text-secondary leading-relaxed">
                  Entre para gerenciar mensagens e acompanhar o histórico de ações.
                </p>

                <div class="mt-8 grid grid-cols-1 gap-4">
                  <div class="rounded-2xl border border-border bg-background p-5">
                    <p class="text-xs font-semibold uppercase tracking-wider text-secondary">Acesso</p>
                    <p class="mt-2 text-sm font-bold text-primary">Controlado</p>
                    <p class="mt-2 text-xs text-secondary leading-relaxed">Usuários são criados apenas por devs.</p>
                  </div>
                  <div class="rounded-2xl border border-border bg-background p-5">
                    <p class="text-xs font-semibold uppercase tracking-wider text-secondary">Ajuda</p>
                    <p class="mt-2 text-sm font-bold text-primary">Recuperação</p>
                    <p class="mt-2 text-xs text-secondary leading-relaxed">Sem reset por e-mail; solicite suporte.</p>
                  </div>
                </div>
              </div>
            </div>

            <div class="lg:col-span-3 px-8 sm:px-10 py-10 bg-background">
              <div class="max-w-md mx-auto">
                <p class="text-xs font-semibold text-secondary uppercase tracking-wider">Entrar</p>
                <p class="mt-2 text-2xl font-display font-bold text-primary">Bem-vindo de volta</p>
                <p class="mt-2 text-sm text-secondary">Use seu usuário e senha para continuar.</p>

                {% if form.errors %}
                  <div x-data x-init="window.dispatchEvent(new CustomEvent('toast-add', { detail: { level: 'error', message: 'Usuário ou senha inválidos.' } }));"></div>
                {% endif %}

                <form method="post" class="mt-8 space-y-6" data-toast-validate>
                  {% csrf_token %}

                  <div class="space-y-2">
                    <label for="id_login" class="block text-sm font-medium text-secondary">Usuário</label>
                    {{ form.login }}
                  </div>

                  <div class="space-y-2">
                    <label for="id_password" class="block text-sm font-medium text-secondary">Senha</label>
                    {{ form.password }}
                  </div>

                  {% if redirect_field_value %}
                    <input type="hidden" name="{{ redirect_field_name }}" value="{{ redirect_field_value }}" />
                  {% endif %}

                  <div class="grid grid-cols-1 sm:grid-cols-2 gap-3">
                    <button type="submit" class="btn btn-primary w-full">
                      Entrar
                    </button>
                    <a href="{% url 'landpage' %}" class="btn btn-secondary solid w-full text-center">
                      Voltar
                    </a>
                  </div>
                </form>

                <div class="mt-6 flex flex-col gap-3 text-center text-sm">
                  <a href="{% url 'account_reset_password' %}"
                     hx-get="{% url 'account_reset_password' %}"
                     hx-target="#modal-content"
                     hx-swap="innerHTML"
                     class="link">
                    Esqueci minha senha
                  </a>
                  <a href="{% url 'account_signup' %}"
                     hx-get="{% url 'account_signup' %}"
                     hx-target="#modal-content"
                     hx-swap="innerHTML"
                     class="link">
                    Criar conta
                  </a>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>
</main>

{% endblock %}
