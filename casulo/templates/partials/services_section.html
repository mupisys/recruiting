<section id="servicos" class="py-12 lg:py-24 bg-accent/30 scroll-mt-21 lg:scroll-mt-7">
  <div class="mx-auto max-w-6xl min-h-[40vh] px-4 lg:px-8">
    <div class="text-center mb-8 lg:mb-12">
      <h2 class="text-balance text-2xl sm:text-3xl lg:text-5xl font-bold text-foreground">
        Conheça Nossos Serviços
      </h2>
    </div>

    <!-- filtros -->
    <div
      class="flex flex-wrap justify-center gap-2 mb-10"
      x-data="{ active: '{{ active_cat|default:"all"|escapejs }}' }"
    >
      <button
        type="button"
        class="rounded-full px-4 py-2 text-sm font-medium transition border border-border"
        :class="active==='all' ? 'bg-primary text-primary-foreground' : 'bg-card text-foreground/70 hover:bg-card/80'"
        :aria-pressed="active==='all'"
        @click="active='all'"
        hx-get="{% url 'services_partial' %}?cat=all"
        hx-target="#services-grid"
        hx-swap="innerHTML"
        hx-push-url="false"
      >
        Todas
      </button>

      {% for c in categories %}
        <button
          type="button"
          class="rounded-full px-4 py-2 text-sm font-medium transition border border-border"
          :class="active==='{{ c.slug }}' ? 'bg-primary text-primary-foreground' : 'bg-card text-foreground/70 hover:bg-card/80'"
          :aria-pressed="active==='{{ c.slug }}'"
          @click="active='{{ c.slug }}'"
          hx-get="{% url 'services_partial' %}?cat={{ c.slug }}"
          hx-target="#services-grid"
          hx-swap="innerHTML"
          hx-push-url="false"
        >
          {{ c.name }}
        </button>
      {% endfor %}
    </div>

    <!-- grid -->
    <div id="services-grid">
      {% include "partials/services_grid.html" %}
    </div>
  </div>
</section>
