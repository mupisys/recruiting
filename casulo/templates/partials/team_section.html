{% load static %}

<section id="equipe" class="py-12 lg:py-20 bg-background scroll-mt-20 lg:scroll-mt-22">
  <div class="mx-auto max-w-7xl px-4 lg:px-8">
    <div class="text-center mb-8 lg:mb-16">
      <h2
        class="text-balance text-2xl sm:text-3xl lg:text-5xl font-bold text-foreground"
      >
        Profissionais que cuidam com atenção
      </h2>
      <p class="text-muted-foreground 
         text-base sm:text-lg lg:text-xl leading-relaxed mt-4">
        Atendimento humano, técnica e acompanhamento.
      </p>
    </div>

    <div class="mt-12 grid gap-4 sm:grid-cols-2 lg:grid-cols-3">
      {% for p in team %}
        <article
          class="group rounded-3xl border border-border/70 bg-card/70 backdrop-blur p-5 shadow-sm
                transition-all duration-200
                hover:-translate-y-0.5 hover:shadow-md hover:border-border"
        >
          <div class="flex items-start gap-4">
            <div class="w-40 h-40 shrink-0 overflow-hidden rounded-2xl border border-border/70">
              {% if p.foto %}
                <img
                  src="{{ p.foto.thumb.url }}"
                  alt="{{ p.nome }} — {{ p.cargo }}"
                  class="w-full h-full object-cover transition-transform duration-300 group-hover:scale-[1.03]"
                  style="max-width: 160px; max-height: 160px;"
                  loading="lazy"
                />
              {% else %}
                <img
                  src="{% static 'images/team/placeholder.webp' %}"
                  alt="{{ p.nome }} — {{ p.cargo }}"
                  class="w-full h-full object-cover transition-transform duration-300 group-hover:scale-[1.03]"
                  style="max-width: 160px; max-height: 160px;"
                  loading="lazy"
                />
              {% endif %}
            </div>

            <div class="min-w-0 flex-1">
              <h3 class="text-base font-semibold text-foreground wrap-break-word transition-colors group-hover:text-primary">
                {{ p.nome }}
              </h3>
              <p class="text-sm text-muted-foreground wrap-break-word">
                {{ p.cargo }}{% if p.registro %} • {{ p.registro }}{% endif %}
              </p>

              {% if p.tags_list %}
                <div class="mt-3 flex flex-wrap gap-2">
                  {% for tag in p.tags_list|slice:":3" %}
                    <span class="rounded-full border border-border bg-muted px-2 py-1 text-xs text-muted-foreground">
                      {{ tag }}
                    </span>
                  {% endfor %}
                </div>
              {% endif %}
            </div>
          </div>

          {% if p.bio %}
            <p class="mt-4 text-sm text-muted-foreground leading-relaxed wrap-break-words">
              {{ p.bio }}
            </p>
          {% endif %}
        </article>

      {% empty %}
        <div class="col-span-full">
          <p class="text-center text-sm text-muted-foreground">
            Equipe em atualização.
          </p>
        </div>
      {% endfor %}
    </div>
  </div>
</section>